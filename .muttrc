auto_view text/html application/octet-stream

set charset = "utf-8"

# Identity
# set imap_user               = "email"
# set smtp_url                = "smtp://email@smtp.gmail.com:587/"
# set imap_pass               = "password"
# set from                    = "name <email>"
# set realname                = "name"
source ~/.mutt/identity
set mailcap_path            = ~/.mutt/.mailcap

set editor                  = "vim"
bind editor <Tab> complete-query

set mbox_type               = Maildir
set folder                  = "~/Maildir/work"
set mbox                    = "~/Maildir/work/Archive"
set spoolfile               = "~/Maildir/work/INBOX"
set record                  = "~/Maildir/work/Sent"
set postponed               = "~/Maildir/work/Drafts"

mailboxes +INBOX

set imap_check_subscribed   = yes
set imap_list_subscribed    = yes

set header_cache            = ~/.mutt/cache/headers
set message_cachedir        = ~/.mutt/cache/bodies
set certificate_file        = ~/.mutt/certificates

set mail_check              = 60
set timeout                 = 120
set quit                    = ask-yes
unset beep                  # No beep thank you
set pager_stop              = yes   # Dont move to next message automatically

unset copy
set fast_reply              = yes
set include                 = yes
set forward_format          = "Fwd: %s"
set forward_quote           = yes
set move                    = no

set sort                    = reverse-threads
set sort_aux                = last-date-received

# set sidebar_delim = "  |"
# set sidebar_visible = yes
# set sidebar_width = 24
# color sidebar_new color221 color233

set status_chars            = " *%A"
set status_format           = "───[ Folder: %f ]───[%r%m messages%?n? (%n new)?%?d? (%d to delete)?%?t? (%t tagged)? ]───%>─%?p?( %p postponed )?───"

set date_format             = "%d-%m-%y %H:%M"
set index_format            = "%Z  %D  %-20.20F  %s"

set pager_index_lines       = 8
set pager_context           = 3
set menu_scroll
unset markers

# Use abook for contacts
set query_command           = "abook --mutt-query '%s'"

# Headers
ignore *
unignore from: to: cc: date: subject:
unignore x-mailing-list: posted-to:
unignore x-mailer:
unhdr_order *
hdr_order date: from: to: cc: subject:

alternative_order text/plain text/html *

# =========================
# Bindings
# =========================

bind index J            next-unread
bind index K            previous-unread
bind index gg           first-entry
bind index G            last-entry
bind index R            imap-fetch-mail

bind pager j            next-line
bind pager k            previous-line
bind pager J            next-undeleted
bind pager K            previous-undeleted
bind pager gg           top
bind pager G            bottom
bind pager R            group-reply

macro attach S <save-entry><kill-line>/Users/sebbe/Downloads/<enter>\y<enter>

bind editor <space> noop
macro index,pager gi <change-folder>+Inbox<enter>
macro index,pager gs <change-folder>+Sent<enter>
# macro index,pager ga "<change-folder>+[Gmail]/All Mail" "Go to All Mail"
# macro index,pager gd "<change-folder>+[Gmail]/Drafts" "Go to Drafts"

macro index,pager A "<pipe-message>abook --add-email<return>" "add the sender address to abook"


# =========================
# Colors (Sherlock)
# =========================
color normal        color144    color235
color tree          color197    color235
color indicator     color7      color238
color markers       color111    color235

color index         color111    color235    "~N"    # New
color index         color144    color235    "~O"    # Old
color index         color111    color235    "~U"    # Unread
color index         color144    color235    "~R"    # Read
color index         color7      color235    "~P"    # Sent

color header        color241    color235    ^(Date)
color header        color241    color235    ^(From)
color header        color241    color235    ^(To)
color header        color241    color235    ^(Cc)
color header        color111    color235    ^(Subject)

color body          color179    color235    "(finger|ftp|http|https|news|telnet)://[^ >]*"
color body          color179    color235    "<URL:[^ ]*>"
color body          color179    color235    "www\\.[-.a-z0-9]+\\.[a-z][a-z][a-z]?([-_./~a-z0-9]+)?"
color body          color179    color235    "mailto: *[^ ]+\(\\i?subject=[^ ]+\)?"
color body          color179    color235    "[-a-z_0-9.%$]+@[-a-z_0-9.]+\\.[-a-z][-a-z]+"

color attachment    color242    color235

color quoted        color59     color235
color quoted1       color59     color235
color quoted2       color59     color235
color quoted3       color59     color235
color quoted4       color59     color235
color quoted5       color59     color235
color quoted6       color59     color235
color quoted7       color59     color235
color quoted8       color59     color235

color signature     color242    color235
color status        color179    color234
color hdrdefault    color197    color235

color error         color7      color197
color tilde         color238    color235

# Gotham
# color normal        color67     color000
# color tree          color167    color000
# color indicator     color116    color010
# color markers       color111    color000
# 
# color index         color116    color000    "~N"    # New
# color index         color73     color000    "~O"    # Old
# color index         color215    color000    "~U"    # Unread
# color index         color73     color000    "~R"    # Read
# color index         color194    color000    "~P"    # Sent
# 
# color header        color59     color000    ^(Date)
# color header        color59     color000    ^(From)
# color header        color59     color000    ^(To)
# color header        color59     color000    ^(Cc)
# color header        color73     color000    ^(Subject)
# 
# color body          color130    color000    "(finger|ftp|http|https|news|telnet)://[^ >]*"
# color body          color130    color000    "<URL:[^ ]*>"
# color body          color130    color000    "www\\.[-.a-z0-9]+\\.[a-z][a-z][a-z]?([-_./~a-z0-9]+)?"
# color body          color130    color000    "mailto: *[^ ]+\(\\i?subject=[^ ]+\)?"
# color body          color130    color000    "[-a-z_0-9.%$]+@[-a-z_0-9.]+\\.[-a-z][-a-z]+"
# 
# color attachment    color59    color000
# 
# color quoted        color237    color000
# color quoted1       color237    color000
# color quoted2       color237    color000
# color quoted3       color237    color000
# color quoted4       color237    color000
# color quoted5       color237    color000
# color quoted6       color237    color000
# color quoted7       color237    color000
# color quoted8       color237    color000
# 
# color signature     color59     color000
# color status        color23     color000
# color hdrdefault    color167    color000
# 
# color error         color167    color000
# color tilde         color59     color000
