# vim: filetype=zsh

alias -g rg="rg --max-columns 160 --max-columns-preview --colors=path:fg:179 --colors=line:fg:243 --colors=match:fg:white"
alias -g notes="vim ~/Documents/notes.md"
alias n=nnn

if [[ "$OSTYPE" == "linux-gnu"* ]]; then
    alias ll="ls -ahlF --color"
    alias -g cat=batcat
elif [[ "$OSTYPE" == "darwin"* ]]; then
    alias ll="ls -GahlF"
    alias -g cat=bat
fi

# Download torrents
dl() {
    aria2c $@ --dir=$HOME/Torrents
}

mov2mp4() {
    ffmpeg -i $1 -q:v 0 ${1%.*}.mp4
}

wav2mp3() {
    ffmpeg -i $1 -codec:a libmp3lame -qscale:a 2 ${1%.*}.mp3
}

md2pdf() {
    pandoc $1 -o ${1%.*}.pdf \
        --number-sections \
        -V geometry:margin=1.4in \
        -V fontsize=11pt \
        -V linestretch=1.3
}

md2pdf_all() {
    for i in *.md; do
        [ -f "$i" ] || break
        md2pdf $i
    done
}

# Unzip with zip filename as directory name
unzip_d() {
    zipfile="$1"
    zipdir=${1%.zip}

    if [[ "$OSTYPE" == "linux-gnu"* ]]; then
        unzip $zipfile -d $zipdir
    elif [[ "$OSTYPE" == "darwin"* ]]; then
        ditto -V -x -k --sequesterRsrc --rsrc $zipfile $zipdir
    fi
}

# Unzip all files in a directory
unzip_all() {
    for i in *.zip; do
        [ -f "$i" ] || break
        unzip_d $i
    done
}

# Unrar with rar filename as directory name
unrar_d() {
    rarfile="$1"
    rardir=${1%.rar}
    unrar x $rarfile $rardir/
}

# Unrar all files in a directory
unrar_all() {
    for i in *.rar; do
        [ -f "$i" ] || break
        unrar_d $i
    done
}
